<main>
    <header>
        <h1 class=" h2 text-center my-5 px-4 fw-bold">Editar una actividad</h1>
    </header>
    <section class="container w-75 mb-5">
        <form class="d-flex flex-column px-5 box-design" [formGroup]="updateActivityForm" (ngSubmit)="onSubmit()">
            <div class="field mb-3">
                <label for="title" class="d-block fw-bold fs-6 mb-2">Título</label>
                <input class="mb-2 p-2 w-100" id="title" name="title" type="text" formControlName="title">
                <p class="error"
                    *ngIf="checkError ('title', 'required')">El título de la actividad debe tener entre 25 y 130 caracteres.
                </p>
                <p class="error"
                    *ngIf="checkError ('title', 'minlength')">El título de la actividad debe tener entre 25 y 130 caracteres.
                </p>
                <p class="error"
                *ngIf="checkError ('title', 'maxlength')">El título de la actividad debe tener entre 25 y 130 caracteres.
                </p>
            </div>
            <div class="field mb-3">
                <label for="text" class="fw-bold d-block fs-6 mb-2">Descripción</label>
                <textarea class="mb-2 p-2 w-100 height-input" id="text" name="description" formControlName="description"></textarea>
                <p class="error"
                    *ngIf="checkError ('description', 'required')">Debes escribir en qué consiste la actividad aquí (al menos 100 caracteres).
                </p>
                <p class="error"
                    *ngIf="checkError ('description', 'minlength')">Debes escribir en qué consiste la actividad aquí(al menos 100 caracteres). 
                </p>                    
            </div>
            <div class="field mb-3">
                <label for="price" class="d-block fw-bold fs-6 mb-2">Precio</label>
                <input class="mb-2 p-2 w-75" id="price" name="price" type="number" step="0.01" min="0" formControlName="price">
                <p class="error"
                    *ngIf="checkError ('price', 'pattern')">Debes indicar el precio con dos decimales.
                </p>
                <p class="error"
                    *ngIf="checkError ('price', 'required')">Campo obligatorio: debes indicar el precio de la actividad.
                </p>
            </div>
            <div class="field mb-3">
                <p class="fw-bold fs-6 d-block">Horarios</p>
                <div class="mb-2 p-2">
                    <div *ngFor="let schedule of allSchedules">
                        <label class="small" [for]="schedule.name">
                            <input type="checkbox" [id]="schedule.name" [name]="schedule.name" formControlName="schedule" (change)="updateSelectedSchedules($event, schedule)">
                            {{schedule.name}}
                        </label>
                    </div>
                </div>
                <p class="error" 
                    *ngIf="checkError ('schedule', 'required')">Indica los horarios de la nueva actividad.
                </p>
            </div>
            <button class="btn btn-outline-success mt-3 mb-5 fw-bold w-50" type="submit" [disabled]="updateActivityForm.invalid">Crear</button>
        </form>
    </section>
</main>
